<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Villa Park Little League</title>

    <!-- CSS -->
    <link rel="stylesheet" href="style.css?v=3" />

    <!-- JS -->
    <script src="app.js?v=3" defer></script>

    <!-- PWA -->
    <link rel="manifest" href="manifest.json" />
    <link rel="icon" type="image/png" href="60thlogo.jpg" />
</head>

<body>

<!-- Header -->
<header>
    <img src="60thlogo.jpg" alt="Villa Park Vibe Logo" />
    Villa Park Little League
</header>

<!-- League-wide alert bar -->
<div id="league-alert" class="league-alert">
    <span id="league-alert-text"></span>
    <button id="league-alert-close" type="button">âœ•</button>
</div>

<!-- Push Notification Button (ONLY ONE) -->
<div id="pushSetup" style="text-align:center; margin:20px 0;">
    <button id="enableNotifsBtn" class="primary-btn">
        ğŸ”” Enable League Notifications
    </button>
</div>

<!-- Pull-to-Refresh Spinner -->
<div id="ptr" class="ptr-spinner">
    <img src="vpll-spinner.svg" class="baseball-spinner" alt="Loading" />
    <div class="spinner-text">Refreshing...</div>
</div>

<!-- Main Content -->
<main id="page-root"></main>

<!-- Notification Preferences Section -->
<section id="notificationsSection" style="display:none; padding:20px;">
    <h3>Push Notification Preferences</h3>
    <p>Select updates you want to receive:</p>

    <label>
        <input type="checkbox" class="notif-topic" value="A1 Fireston">
        A1 Fireston
    </label>

    <button id="saveNotifPrefsBtn">Save Preferences</button>
</section>

<!-- Bottom Navigation -->
<nav id="bottomNav">
    <button class="nav-btn" data-page="home">
        <span class="icon">ğŸ </span>
        <span class="label">Home</span>
    </button>

    <button class="nav-btn" data-page="schedule">
        <span class="icon">ğŸ“…</span>
        <span class="label">Schedule</span>
    </button>

    <button class="nav-btn" data-page="standings">
        <span class="icon">ğŸ†</span>
        <span class="label">Standings</span>
    </button>

    <button class="nav-btn" data-page="more">
        <span class="icon">â‹¯</span>
        <span class="label">More</span>
    </button>
</nav>

<!-- Hidden Admin Tab -->
<button class="nav-btn" data-page="admin" id="adminTab" style="display:none;">
    ğŸ” Admin
</button>

<!-- Service Worker for PWA + Web Push -->
<script>
if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("service-worker.js")
        .then(() => console.log("Service Worker registered"));
}
</script>

</body>
</html>

